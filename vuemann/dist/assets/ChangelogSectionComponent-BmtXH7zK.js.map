{"version":3,"file":"ChangelogSectionComponent-BmtXH7zK.js","sources":["../../src/components/changelog/changelog-store.js","../../src/components/changelog/ChangelogComponent.vue","../../src/components/changelog/ChangelogSectionComponent.vue"],"sourcesContent":["import { defineStore } from 'pinia'\r\nimport { ref, computed } from 'vue'\r\n\r\nconst ChangelogStore = defineStore('changelog', () => {\r\n  const selectedFilter = ref('all')\r\n  const availableTypes = ref(new Set(['all']))\r\n  \r\n  const changeFilter = (filterKey) => {\r\n    selectedFilter.value = filterKey\r\n  }\r\n  \r\n  const registerItemType = (type) => {\r\n    availableTypes.value.add(type)\r\n  }\r\n  \r\n  const isTypeAvailable = (typeKey) => {\r\n    if (typeKey === 'all') { return true }\r\n    return availableTypes.value.has(typeKey)\r\n  }\r\n  \r\n  const getSelectedFilter = computed(() => selectedFilter.value)\r\n  \r\n  return { \r\n    selectedFilter,\r\n    changeFilter,\r\n    registerItemType,\r\n    isTypeAvailable,\r\n    getSelectedFilter\r\n  }\r\n})\r\n\r\nexport default ChangelogStore\r\n","<script setup>\r\nimport ChangelogStore from './changelog-store.js'\r\nimport { t } from \"@brugmann/vuemann/src/services/services-helper.js\";\r\nimport { router } from \"@brugmann/vuemann/src/services/services-helper.js\";\r\n\r\nconst props = defineProps({\r\n  defaultLink: { type: String, default: 'home' },\r\n  title: { type: String, default: 'changelog.title' },\r\n  description: { type: String, default: 'changelog.description' }\r\n});\r\n\r\nconst store = ChangelogStore()\r\n\r\nconst HISTORY_BACK_STEP = -1\r\nconst goBack = () => {\r\n  if (globalThis.history.length > 1) {\r\n    globalThis.history.go(HISTORY_BACK_STEP)\r\n    return\r\n  }\r\n  \r\n  router.push({ name: props.defaultLink })\r\n}\r\n\r\nconst itemTypes = [\r\n  { key: 'all', label: 'changelog.filters.all', icon: 'üìã' },\r\n  { key: 'features', label: 'changelog.filters.features', icon: 'üöÄ' },\r\n  { key: 'bugs', label: 'changelog.filters.bugs', icon: 'üêõ' },\r\n  { key: 'optimizations', label: 'changelog.filters.optimizations', icon: 'üí°' },\r\n  { key: 'updates', label: 'changelog.filters.updates', icon: 'üîÑ' },\r\n  { key: 'critical', label: 'changelog.filters.critical', icon: '‚ö†Ô∏è' }\r\n];\r\n</script>\r\n\r\n<template>\r\n  <div class=\"d-flex j-between a-end my-25\">\r\n    <h2 class=\"h2\">\r\n      {{ t(title)}}\r\n    </h2>\r\n    <button \r\n      @click=\"goBack\"\r\n      class=\"btn btn-primary\"\r\n    >\r\n      <i class=\"fa-solid fa-arrow-left mr-5\"></i>\r\n      {{ t('changelog.back') }}\r\n    </button>\r\n  </div>\r\n\r\n  <p class=\"mb-20\">\r\n    {{ t(description) }}\r\n  </p>\r\n  \r\n  <!-- Filtres -->\r\n  <div class=\"changelog-filters mb-20\">\r\n    <div class=\"d-flex g-10 flex-wrap\">\r\n      <button\r\n        v-for=\"type in itemTypes\"\r\n        :key=\"type.key\"\r\n        @click=\"store.changeFilter(type.key)\"\r\n        :class=\"[\r\n          'filter-btn',\r\n          { 'active': store.selectedFilter === type.key, 'd-none': !store.isTypeAvailable(type.key) }\r\n        ]\"\r\n      >\r\n        <span class=\"filter-icon\">{{ type.icon }}</span>\r\n        {{ t(type.label) }}\r\n      </button>\r\n    </div>\r\n  </div>\r\n  \r\n  <div class=\"changelog-content | f-column g-25\">\r\n    <slot></slot>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.changelog-content {\r\n  max-width: 800px;\r\n}\r\n\r\n.changelog-filters {\r\n  .filter-btn {\r\n    padding: 8px 16px;\r\n    border: 1px solid #e9ecef;\r\n    border-radius: 20px;\r\n    background: #fff;\r\n    color: #6c757d;\r\n    cursor: pointer;\r\n    transition: all 0.2s ease;\r\n    font-size: 14px;\r\n    \r\n    &:hover:not(:disabled) {\r\n      border-color: #007bff;\r\n      color: #007bff;\r\n    }\r\n    \r\n    &.active {\r\n      background: #007bff;\r\n      border-color: #007bff;\r\n      color: #fff;\r\n    }\r\n    \r\n    .filter-icon {\r\n      font-size: 16px;\r\n    }\r\n  }\r\n}\r\n</style> \r\n","<script setup>\r\nimport { computed, onMounted } from \"vue\";\r\nimport { t } from \"@brugmann/vuemann/src/services/services-helper.js\";\r\nimport ChangelogStore from './changelog-store.js'\r\nconst store = ChangelogStore()\r\n\r\nconst props = defineProps({\r\n  version: { type: String, required: true },\r\n  date: { type: String, required: true },\r\n  features: { type: Array, default: () => [] },\r\n  bugs: { type: Array, default: () => [] },\r\n  optimizations: { type: Array, default: () => [] },\r\n  updates: { type: Array, default: () => [] },\r\n  critical: { type: Array, default: () => [] }\r\n});\r\n\r\nonMounted(() => {\r\n  registerItems()\r\n})\r\n\r\nconst registerItems = () => {\r\n  for (const item in props) {\r\n    if (!Array.isArray(props[item]) || props[item].length === 0) { continue }\r\n    store.registerItemType(item)\r\n  }\r\n}\r\n\r\nconst shouldShowSection = computed(() => {\r\n  if (store.selectedFilter === 'all') { return true }\r\n  return props[store.selectedFilter]?.length > 0\r\n});\r\n</script>\r\n\r\n<template>\r\n  <div v-if=\"shouldShowSection\" class=\"changelog-version\">\r\n    <h3 class=\"h3 mb-15\">{{ t('changelog-section.version', { version, date }) }}</h3>\r\n    \r\n    <div v-if=\"features.length > 0 && (store.selectedFilter === 'all' || store.selectedFilter === 'features')\" class=\"changelog-category\">\r\n      <h4 class=\"color-neutral-800 fw-500\">üöÄ {{ t('changelog-section.categories.nouveautes') }}</h4>\r\n      <ul class=\"changelog-list | list ml-25\">\r\n        <li v-for=\"(item, index) in features\" :key=\"index\">{{ item }}</li>\r\n      </ul>\r\n    </div>\r\n\r\n    <div v-if=\"bugs.length > 0 && (store.selectedFilter === 'all' || store.selectedFilter === 'bugs')\" class=\"changelog-category\">\r\n      <h4 class=\"color-neutral-800 fw-500\">üêõ {{ t('changelog-section.categories.bugs') }}</h4>\r\n      <ul class=\"changelog-list | list ml-25\">\r\n        <li v-for=\"(item, index) in bugs\" :key=\"index\">{{ item }}</li>\r\n      </ul>\r\n    </div>\r\n\r\n    <div v-if=\"optimizations.length > 0 && (store.selectedFilter === 'all' || store.selectedFilter === 'optimizations')\" class=\"changelog-category\">\r\n      <h4 class=\"color-neutral-800 fw-500\">üí° {{ t('changelog-section.categories.optimisations') }}</h4>\r\n      <ul class=\"changelog-list | list ml-25\">\r\n        <li v-for=\"(item, index) in optimizations\" :key=\"index\">{{ item }}</li>\r\n      </ul>\r\n    </div>\r\n\r\n    <div v-if=\"updates.length > 0 && (store.selectedFilter === 'all' || store.selectedFilter === 'updates')\" class=\"changelog-category\">\r\n      <h4 class=\"color-neutral-800 fw-500\">üîÑ {{ t('changelog-section.categories.updates') }}</h4>\r\n      <ul class=\"changelog-list | list ml-25\">\r\n        <li v-for=\"(item, index) in updates\" :key=\"index\">{{ item }}</li>\r\n      </ul>\r\n    </div>\r\n        \r\n    <div v-if=\"critical.length > 0 && (store.selectedFilter === 'all' || store.selectedFilter === 'critical')\" class=\"changelog-category changelog-critical\">\r\n      <h4 class=\"color-white fw-600\">‚ö†Ô∏è {{ t('changelog-section.categories.critique') }}</h4>\r\n      <ul class=\"changelog-list | list ml-25\">\r\n        <li v-for=\"(item, index) in critical\" :key=\"index\">{{ item }}</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.changelog-version {\r\n  border-left: 4px solid #007bff;\r\n  padding-left: 20px;\r\n  position: relative;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.changelog-version::before {\r\n  content: '';\r\n  position: absolute;\r\n  left: -8px;\r\n  top: 0;\r\n  width: 12px;\r\n  height: 12px;\r\n  background: #007bff;\r\n  border-radius: 50%;\r\n}\r\n\r\n.changelog-category {\r\n  background: #f8f9fa;\r\n  padding: 15px;\r\n  border-radius: 8px;\r\n  border: 1px solid #e9ecef;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10px;\r\n}\r\n\r\n.changelog-list li {\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.changelog-critical { \r\n  background: var(--danger-300);\r\n  border: 1px solid var(--danger);\r\n}\r\n</style> \r\n"],"names":["ChangelogStore","defineStore","selectedFilter","ref","availableTypes","changeFilter","filterKey","registerItemType","type","isTypeAvailable","typeKey","getSelectedFilter","computed","HISTORY_BACK_STEP","props","__props","store","goBack","router","itemTypes","_createElementVNode","_hoisted_1","_hoisted_2","_toDisplayString","_unref","t","_createTextVNode","_hoisted_3","_hoisted_4","_hoisted_5","_createElementBlock","_Fragment","_renderList","_normalizeClass","_hoisted_7","_hoisted_8","_renderSlot","_ctx","onMounted","registerItems","item","shouldShowSection","_openBlock","index","_hoisted_6","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17"],"mappings":"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"}