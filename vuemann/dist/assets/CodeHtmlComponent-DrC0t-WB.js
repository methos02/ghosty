import{K as b,L as C,M as k,N as g,O as M,P as x,Q as W,R as q,u as y,T as U,q as D,U as F,V as H,W as I,X as z,c as j,o as w,a as E,v as V,i as L,t as K}from"./index-CFtw_ocM.js";const Q=M?window:void 0,N=M?window.navigator:void 0;function X(t){var e;const n=g(t);return(e=n?.$el)!=null?e:n}function O(...t){const e=[],n=()=>{e.forEach(o=>o()),e.length=0},c=(o,a,i,u)=>(o.addEventListener(a,i,u),()=>o.removeEventListener(a,i,u)),r=b(()=>{const o=x(g(t[0])).filter(a=>a!=null);return o.every(a=>typeof a!="string")?o:void 0}),s=W(()=>{var o,a;return[(a=(o=r.value)==null?void 0:o.map(i=>X(i)))!=null?a:[Q].filter(i=>i!=null),x(g(r.value?t[1]:t[0])),x(y(r.value?t[2]:t[1])),g(r.value?t[3]:t[2])]},([o,a,i,u])=>{if(n(),!o?.length||!a?.length||!i?.length)return;const m=q(u)?{...u}:u;e.push(...o.flatMap(h=>a.flatMap(S=>i.map($=>c(h,S,$,m)))))},{flush:"post"}),d=()=>{s(),n()};return U(n),d}function Z(){const t=C(!1),e=F();return e&&D(()=>{t.value=!0},e),t}function B(t){const e=Z();return b(()=>(e.value,!!t()))}function _(t,e={}){const{controls:n=!1,navigator:c=N}=e,r=B(()=>c&&"permissions"in c),s=C(),d=typeof t=="string"?{name:t}:t,o=C(),a=()=>{var u,m;o.value=(m=(u=s.value)==null?void 0:u.state)!=null?m:"prompt"};O(s,"change",a,{passive:!0});const i=H(async()=>{if(r.value){if(!s.value)try{s.value=await c.permissions.query(d)}catch{s.value=void 0}finally{a()}if(n)return I(s.value)}});return i(),n?{state:o,isSupported:r,query:i}:o}function G(t={}){const{navigator:e=N,read:n=!1,source:c,copiedDuring:r=1500,legacy:s=!1}=t,d=B(()=>e&&"clipboard"in e),o=_("clipboard-read"),a=_("clipboard-write"),i=b(()=>d.value||s),u=C(""),m=C(!1),h=k(()=>m.value=!1,r,{immediate:!1});async function S(){let l=!(d.value&&T(o.value));if(!l)try{u.value=await e.clipboard.readText()}catch{l=!0}l&&(u.value=R())}i.value&&n&&O(["copy","cut"],S,{passive:!0});async function $(l=g(c)){if(i.value&&l!=null){let p=!(d.value&&T(a.value));if(!p)try{await e.clipboard.writeText(l)}catch{p=!0}p&&P(l),u.value=l,m.value=!0,h.start()}}function P(l){const p=document.createElement("textarea");p.value=l??"",p.style.position="absolute",p.style.opacity="0",document.body.appendChild(p),p.select(),document.execCommand("copy"),p.remove()}function R(){var l,p,A;return(A=(p=(l=document?.getSelection)==null?void 0:l.call(document))==null?void 0:p.toString())!=null?A:""}function T(l){return l==="granted"||l==="prompt"}return{isSupported:i,text:u,copied:m,copy:$}}const v=2,J=(t,e)=>{const n=e===void 0?0:e+v,c=" ".repeat(n);if(typeof t.type=="symbol")return t.children;const r=t.type;let s=f.defineChildrenVnode(t.children,n);r==="scriptBalise"&&(s=f.formatScriptContent(s,n));const d=f.stringifyAttributes(t.props);return f.isSelfClosing(r,s)?f.formatSelfClosingTag(r,d,n):`${c}<${r}${d}>${f.formatChildrenContent(s,c)}</${r}>`},Y=(t,e)=>t===""?"":`
${t}
${e}`,tt=(t,e)=>t===null?"":typeof t!="string"?t.map(n=>f.stringifyVNode(n,e)).join(`
`):" ".repeat(e+v)+t.replaceAll(`
`,`
`+" ".repeat(e+v)),et=t=>t?" "+Object.entries(t).map(([e,n])=>typeof n=="object"?f.stringifyObjectAttributes(e,n):n===""?e:`${e}="${n}"`).join(" "):"",nt=(t,e)=>{const n=Object.entries(e).map(([c,r])=>`${c}:${r};`).join(" ");return`${t}="${n}"`},ot=new Set(["img","input","br","hr","meta","link"]),rt=(t,e)=>ot.has(t.toLowerCase())||t.charAt(0).toUpperCase()===t.charAt(0)&&e==="",at=(t,e,n)=>(e=e.replaceAll(" ",`
`+" ".repeat(n+v)),`${" ".repeat(n)}<${t}${e}
${" ".repeat(n)}/>`),st=(t,e)=>{let n=t;return n=n.replaceAll("; ",`;
`+" ".repeat(e+v)),n=n.replaceAll(/;([a-zA-Z])/g,`;
`+" ".repeat(e+v)+"$1"),n},f={stringifyVNode:J,formatChildrenContent:Y,defineChildrenVnode:tt,stringifyAttributes:et,isSelfClosing:rt,formatSelfClosingTag:at,formatScriptContent:st,stringifyObjectAttributes:nt},it={class:"code-container | p-relative border-neutral-300 radius-5"},lt=["textContent"],ut={key:0},pt={__name:"CodeHtmlComponent",setup(t){const e=z(),n=b(()=>(e.default?e.default():[]).map(o=>f.stringifyVNode(o)).join(`
`).replaceAll(String.raw`\n`,`
  `)),{copy:c,isSupported:r,copied:s}=G({});return(d,o)=>(w(),j("div",it,[E("pre",{class:"code-preview",textContent:L(n.value)},null,8,lt),y(r)?(w(),j("button",{key:0,class:"code-button | color-neutral-700 color-primary-hover pointer d-flex g-15 a-center",onClick:o[0]||(o[0]=a=>y(c)(n.value))},[y(s)?(w(),j("span",ut,L(y(K)("code_html.copied")),1)):V("",!0),o[1]||(o[1]=E("i",{class:"fa-solid fa-copy fs-700"},null,-1))])):V("",!0)]))}};export{pt as _};
