{"version":3,"file":"ConfirmButtonPage-CS-Phf1R.js","sources":["../../src/components/ConfirmButtonComponent.vue","../../src/views/componentsPage/ConfirmButtonPage.vue"],"sourcesContent":["<script setup>\r\nimport {ref} from \"vue\";\r\nimport Loader from \"@brugmann/vuemann/src/components/LoaderComponent.vue\";\r\nimport DialogComponent from \"@brugmann/vuemann/src/components/DialogComponent.vue\";\r\nimport { t } from \"@brugmann/vuemann/src/services/services-helper.js\";\r\n\r\nconst props = defineProps({\r\n  cb : { type: Function, required: true},\r\n  params : { type: Array, default: []},\r\n  question : { type: String, default: '' },\r\n})\r\n\r\nconst dialog = ref()\r\nconst loader = ref()\r\nconst state = ref('init')\r\nconst runCallBack = async () => {\r\n  loader.value.runCallBack()\r\n  state.value = 'init'\r\n\r\n  if(props.question !== '') { dialog.value.close() }\r\n}\r\n\r\nconst clickEvent = () => {\r\n  state.value = 'confirm'\r\n  \r\n  if(props.question !== '') { dialog.value.show() }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"confirm-buttons_container\">\r\n    <div class=\"confirm-buttons\">\r\n      <div class=\"button-confirm\">\r\n        <Loader\r\n          v-show=\"state === 'init' || question === ''\"\r\n          ref=\"loader\"\r\n          @click=\"clickEvent\"\r\n          :cb=\"cb\"\r\n          :params=\"params\"\r\n          data-confirm\r\n        >\r\n          <slot></slot>\r\n        </Loader>\r\n      </div>\r\n      <div \r\n        v-if=\"question === ''\"\r\n        v-show=\"state === 'confirm'\" \r\n        class=\"f-center g-10\"\r\n        data-buttons\r\n      >\r\n        <button\r\n            type=\"button\"\r\n            class=\"button-valide | btn btn-success pointer\"\r\n            data-valide\r\n            @click=\"runCallBack\"\r\n        >\r\n          <i class=\"fa-solid fa-check mr-5\"></i>\r\n          {{ t('confirm_button.valide') }}\r\n        </button>\r\n        <button\r\n            type=\"button\"\r\n            data-cancel\r\n            class=\"button-cancel | btn btn-danger pointer\"\r\n            @click=\"state = 'init'\"\r\n        >\r\n          <i class=\"fa-solid fa-xmark  mr-5\"></i>\r\n          {{ t('confirm_button.cancel') }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <DialogComponent\r\n      v-if=\"question !== ''\"\r\n      ref=\"dialog\"\r\n      :closeBg=\"false\"\r\n      :closeCross=\"false\"\r\n    >\r\n      <p class=\"mb-25\">\r\n        {{ question }}\r\n      </p>\r\n      <div class=\"d-flex j-center g-25\">\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn btn-success pointer\"\r\n          data-valide\r\n          @click=\"runCallBack\"\r\n        >\r\n          <i class=\"fa-solid fa-check mr-5\"></i>\r\n          {{ t('confirm_button.valide') }}\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          data-cancel\r\n          class=\"btn btn-danger pointer\"\r\n          @click=\"dialog.close()\"\r\n        >\r\n          <i class=\"fa-solid fa-xmark  mr-5\"></i>\r\n          {{ t('confirm_button.cancel') }}\r\n        </button>\r\n      </div>\r\n    </DialogComponent>\r\n  </div>\r\n</template>\r\n","<script setup>\r\n  import ConfirmButton from '../../components/ConfirmButtonComponent.vue';\r\n  import CodeHtml from '@brugmann/vuemann/src/components/codeHtml/CodeHtmlComponent.vue'\r\n\r\n  const DELAY_MS = 1000;\r\n  const confirmCallback = async () => {\r\n    await new Promise((resolve) => setTimeout(resolve, DELAY_MS));\r\n  }\r\n</script>\r\n\r\n<template>\r\n  <h1 class=\"h1\"> Component button de confirmation </h1>\r\n  <p>\r\n    Ce component permet d'avoir une confirmation lorsque l'on clique sur un bouton. Il supporte deux modes : \r\n\r\n  </p>\r\n  <ul class=\"list ml-25\">\r\n    <li>\r\n      <span class=\"fw-700 color-primary\">inline</span> : affichage inline des boutons de confirmation.\r\n    </li>\r\n    <li>\r\n      <span class=\"fw-700 color-primary\">dialog</span> : affichage dans une modal.\r\n    </li>\r\n  </ul>\r\n  <h2 class=\"h2\">Propriétés</h2>\r\n  <table class=\"t-default\">\r\n    <thead>\r\n      <tr>\r\n        <th>Nom</th>\r\n        <th>Type</th>\r\n        <th>Required</th>\r\n        <th>Default</th>\r\n        <th>Description</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr>\r\n        <td>cb</td>\r\n        <td>Function</td>\r\n        <td>oui</td>\r\n        <td>-</td>\r\n        <td>Fonction à appeler lors du clic sur la confirmation.</td>\r\n      </tr>\r\n      <tr>\r\n        <td>params</td>\r\n        <td>Array</td>\r\n        <td>-</td>\r\n        <td>[]</td>\r\n        <td>Paramètres à passer à la fonction de callback.</td>\r\n      </tr>\r\n      <tr>\r\n        <td>question</td>\r\n        <td>String</td>\r\n        <td>-</td>\r\n        <td>''</td>\r\n        <td>Texte de la question de confirmation (utilisé en mode dialog).</td>\r\n      </tr>\r\n      <tr>\r\n        <td>type</td>\r\n        <td>String</td>\r\n        <td>-</td>\r\n        <td>'inline'</td>\r\n        <td>Type d'affichage : 'inline' ou 'dialog'.</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  \r\n  <h2 class=\"h2\">Exemples</h2>\r\n  \r\n  <h3 class=\"h3\">Mode Inline (par défaut)</h3>\r\n  <div class=\"d-flex j-start mb-20\">\r\n    <ConfirmButton \r\n        :cb=\"confirmCallback\" \r\n      > \r\n        Supprimer l'élément\r\n      </ConfirmButton>\r\n  </div>\r\n  \r\n  <h3 class=\"h3\">Mode Dialog</h3>\r\n  <div class=\"d-flex j-start mb-20\">\r\n    <ConfirmButton \r\n        :cb=\"confirmCallback\"\r\n        type=\"dialog\"\r\n        question=\"Êtes-vous sûr de vouloir supprimer cet élément ?\"\r\n      > \r\n        Supprimer avec dialog\r\n      </ConfirmButton>\r\n  </div>\r\n  \r\n  <h2 class=\"h2\">Code</h2>\r\n  \r\n  <h3 class=\"h3\">Mode Inline</h3>\r\n  <CodeHtml>\r\n    <scriptBalise v-pre>\r\n      import ConfirmButton from '@brugmann/vuemann/src/components/ConfirmButtonComponent.vue';\r\n    </scriptBalise>\r\n    <template v-pre>\r\n      <ConfirmButton \r\n        :cb=\"confirmCallback\" \r\n      > \r\n        Supprimer l'élément\r\n      </ConfirmButton>\r\n    </template>\r\n  </CodeHtml>\r\n  \r\n  <h3 class=\"h3\">Mode Dialog</h3>\r\n  <CodeHtml>\r\n    <scriptBalise v-pre>\r\n      import ConfirmButton from '@brugmann/vuemann/src/components/ConfirmButtonComponent.vue';\r\n    </scriptBalise>\r\n    <template v-pre>\r\n      <ConfirmButton \r\n        :cb=\"confirmCallback\"\r\n        type=\"dialog\"\r\n        question=\"Êtes-vous sûr de vouloir supprimer cet élément ?\"\r\n      > \r\n        Supprimer avec dialog\r\n      </ConfirmButton>\r\n    </template>\r\n  </CodeHtml>\r\n</template>\r\n"],"names":["props","__props","dialog","ref","loader","state","runCallBack","clickEvent","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","Loader","_renderSlot","_ctx","_vShow","_withDirectives","_hoisted_4","_createTextVNode","_unref","t","_createBlock","DialogComponent","_hoisted_5","_toDisplayString","_hoisted_6","_cache","$event","DELAY_MS","confirmCallback","resolve","ConfirmButton","CodeHtml"],"mappings":"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"}