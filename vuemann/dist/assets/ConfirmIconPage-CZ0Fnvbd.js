import{_ as x}from"./DialogComponent-D6MQvjBF.js";import{q as y,s as S,g as p,c as l,o as i,v as r,x as A,y as B,i as u,a as e,w as f,d as b,u as v,t as g,l as C,b as d,F as w}from"./index-CFtw_ocM.js";import{_ as h}from"./CodeHtmlComponent-DrC0t-WB.js";const N={class:"confirm-icon | f-center"},$={key:1,class:"pointer underline-hover"},F={key:1,class:"f-center g-5"},I={key:2,class:"row-center"},T={class:"mb-25"},V={class:"d-flex j-center g-25"},c={__name:"ConfirmIconComponent",props:{icon:{type:String,default:""},text:{type:String,default:""},cb:{type:Function,required:!0},params:{type:Array,default:[]},question:{type:String,default:""}},setup(n){const s=n;y(()=>{s.text!==""&&s.icon!==""&&S.error("ConfirmIconComponent: text and icon cannot be used together")});const a=p(),t=p("init"),m=async()=>{s.question!==""&&a.value.close(),t.value="loading",await s.cb(...s.params),t.value="init"},q=()=>{t.value="confirm",s.question!==""&&a.value.show()};return(P,o)=>(i(),l("div",N,[t.value==="init"||t.value==="confirm"&&n.question!==""?(i(),l("button",{key:0,type:"button",class:"button-confirm | link-default pointer","data-confirm":"",onClick:q},[n.icon!==""&&n.text===""?(i(),l("i",{key:0,class:B(n.icon)},null,2)):r("",!0),n.text!==""&&n.icon===""?(i(),l("span",$,u(n.text),1)):r("",!0)])):r("",!0),t.value==="confirm"&&n.question===""?(i(),l("div",F,[e("button",{type:"button",class:"confirm-icon_button | pointer","data-valid":"",onClick:m},[...o[2]||(o[2]=[e("i",{class:"confirm-icon_icon | success fa-solid fa-check"},null,-1)])]),e("button",{type:"button","data-cancel":"",class:"confirm-icon_button | pointer",onClick:o[0]||(o[0]=k=>t.value="init")},[...o[3]||(o[3]=[e("i",{class:"confirm-icon_icon | danger fa-solid fa-xmark"},null,-1)])])])):r("",!0),t.value==="loading"?(i(),l("div",I,[...o[4]||(o[4]=[e("span",{class:"loader-spin"},null,-1)])])):r("",!0),n.question!==""?(i(),A(x,{key:3,ref_key:"dialog",ref:a,closeBg:!1,closeCross:!1},{default:f(()=>[e("p",T,u(n.question),1),e("div",V,[e("button",{type:"button",class:"btn btn-success pointer","data-valide":"",onClick:m},[o[5]||(o[5]=e("i",{class:"fa-solid fa-check mr-5"},null,-1)),b(" "+u(v(g)("confirm_button.valide")),1)]),e("button",{type:"button","data-cancel":"",class:"btn btn-danger pointer",onClick:o[1]||(o[1]=k=>a.value.close())},[o[6]||(o[6]=e("i",{class:"fa-solid fa-xmark mr-5"},null,-1)),b(" "+u(v(g)("confirm_button.cancel")),1)])])]),_:1},512)):r("",!0)]))}},D={class:"f-column g-10 a-start mb-25"},E={class:"f-column g-10 a-start"},L=1e3,O={__name:"ConfirmIconPage",setup(n){const s=async()=>{await new Promise(a=>setTimeout(a,L))};return(a,t)=>(i(),l(w,null,[t[6]||(t[6]=C('<h1 class="h1"> Component Icone de confirmation </h1><p> Ce component permet d&#39;avoir une confirmation lorsque l&#39;on clique sur un icon. </p><h2 class="h2">Propriétés</h2><table class="t-default"><thead><tr><th>Nom</th><th>Type</th><th>Required</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>icon</td><td>String</td><td>-</td><td>&#39;&#39;</td><td> Classes de l&#39;icon. Ce n&#39;est pas obligé d&#39;être une classe Font Awesome.<br> Les classes fournies seront appliquées à une balise <code>&lt;i&gt;</code>. </td></tr><tr><td>text</td><td>String</td><td>-</td><td>&#39;&#39;</td><td>Texte à afficher sur le bouton de confirmation.</td></tr><tr><td>cb</td><td>Function</td><td>oui</td><td>-</td><td>Fonction à appeler lors du clic sur la confirmation.</td></tr><tr><td>params</td><td>Array</td><td>-</td><td>[]</td><td>Paramètres à passer à la fonction de callback.</td></tr><tr><td>question</td><td>String</td><td>-</td><td>&#39;&#39;</td><td>Question à afficher dans un dialog. Si fournie, ouvre un dialog de confirmation au lieu d&#39;afficher directement les boutons.</td></tr></tbody></table><p><i class="fa-solid fa-triangle-exclamation color-danger mr-5"></i> vous devez obligatoirement définir un texte ou une icone. <i class="fa-solid fa-triangle-exclamation color-danger ml-5"></i></p><h2 class="h2">Comportement</h2><p> Le composant a deux modes de fonctionnement selon la prop <code>question</code> : </p><ul class="list ml-25 mb-15"><li><strong>Sans question</strong> : Affiche directement les boutons de confirmation/annulation après le clic initial </li><li><strong>Avec question</strong> : Ouvre un dialog de confirmation contenant la question et les boutons </li></ul><h2 class="h2">Exemples</h2><h3 class="h3">Sans question (boutons directs)</h3>',10)),e("div",D,[t[0]||(t[0]=e("p",null,"Avec une icône :",-1)),d(c,{icon:"fa-solid fa-trash",cb:s}),t[1]||(t[1]=e("p",null,"Avec un texte :",-1)),d(c,{text:"Supprimer",cb:s})]),t[7]||(t[7]=e("h3",{class:"h3"},"Avec question (dialog)",-1)),e("div",E,[t[2]||(t[2]=e("p",null,"Avec une icône et dialog :",-1)),d(c,{icon:"fa-solid fa-trash",question:"Êtes-vous sûr de vouloir supprimer cet élément ?",cb:s}),t[3]||(t[3]=e("p",null,"Avec un texte et dialog :",-1)),d(c,{text:"Supprimer définitivement",question:"Cette action est irréversible. Continuer ?",cb:s})]),t[8]||(t[8]=e("h2",{class:"h2"},"Code",-1)),t[9]||(t[9]=e("h3",{class:"h3"},"Sans question",-1)),d(h,null,{default:f(()=>[...t[4]||(t[4]=[e("IconConfirm",{icon:"fa-solid fa-trash",":cb":"iconConfirmCallback"},null,-1)])]),_:1}),t[10]||(t[10]=e("h3",{class:"h3"},"Avec question",-1)),d(h,null,{default:f(()=>[...t[5]||(t[5]=[e("IconConfirm",{icon:"fa-solid fa-trash",question:"Êtes-vous sûr de vouloir supprimer cet élément ?",":cb":"iconConfirmCallback"},null,-1)])]),_:1}),t[11]||(t[11]=C('<h2 class="h2">Tests</h2><p> Lors de vos tests, des data attributes sont ajoutées sur les boutons pour pouvoir cibler les boutons facilement. </p><ul class="list ml-25"><li><code>data-confirm</code> : Bouton initial qui déclenche la confirmation. </li><li><code>data-valide</code> : Bouton de validation (soit dans les boutons directs soit dans le dialog). </li><li><code>data-cancel</code> : Bouton d&#39;annulation (soit dans les boutons directs soit dans le dialog). </li></ul><p><strong>Note :</strong> Selon la présence de la prop <code>question</code>, les boutons <code>data-valide</code> et <code>data-cancel</code> seront soit affichés directement soit dans un dialog. </p>',4))],64))}};export{O as default};
