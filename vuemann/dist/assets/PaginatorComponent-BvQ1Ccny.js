import{g as v,q as x,h as g,c as d,v as P,o as c,a as o,F as j,m as L,i as _,y as q,E as h,G as O,z as S,H as B,u as k,I as D,j as T,J as I,x as $,w as M,t as z}from"./index-CFtw_ocM.js";const b={calculTotalPage:(s,i)=>Math.ceil(s/i),calculSkip:(s,i)=>(s-1)*i,currentPage:(s,i)=>s/i+1},R={key:0,class:"paginator-container | d-flex j-center"},V={class:"paginator | d-flex a-center py-15"},H={key:0,class:"paginator-li disabled","aria-disabled":"true","aria-label":"Page précédente","data-button":"previous"},N={key:1,class:"paginator-li"},E=["data-current"],U={class:"paginator-current"},G=["onClick","data-page"],J={key:2,class:"paginator-li","aria-disabled":"true"},A={key:2,class:"paginator-li"},K={key:3,class:"paginator-li disabled","aria-disabled":"true","aria-label":"Page suivante","data-button":"next"},Q={__name:"PaginatorClassicComponent",props:{params:{type:Object,default:()=>({total:0,limit:10,skip:0})}},emits:["p-classic"],setup(s,{emit:i}){const e=s,t=v(),a=v();x(()=>{a.value=b.currentPage(e.params.skip,e.params.limit),t.value=b.calculTotalPage(e.params.total,e.params.limit),l.value=y()}),g(()=>e.params.skip,n=>{a.value=n/e.params.limit+1,l.value=y()}),g(()=>e.params.total,n=>{t.value=b.calculTotalPage(n,e.params.limit),l.value=y()});const l=v([]),f=()=>[1,2,a.value-2,a.value-1,a.value,a.value+1,a.value+2,t.value-1,t.value],y=()=>{const n=[];for(let r=1;r<=t.value;r++)r===3&&a.value>=6&&n.push("..."),f().includes(r)&&n.push({page_number:r}),r===t.value-3&&a.value<=t.value-5&&n.push("...");return n},p=i,u=n=>{p("p-classic",{skip:b.calculSkip(n,e.params.limit),limit:e.params.limit})};return(n,r)=>t.value!==1?(c(),d("nav",R,[o("ul",V,[a.value===1?(c(),d("li",H,[...r[2]||(r[2]=[o("span",{class:"paginator-chevron","aria-hidden":"true"},[o("i",{class:"fa-solid fa-chevron-left"})],-1)])])):(c(),d("li",N,[o("button",{type:"button",onClick:r[0]||(r[0]=m=>u(a.value-1)),class:"paginator-button",rel:"prev","aria-label":"Page précédente","data-button":"previous"},[...r[3]||(r[3]=[o("i",{class:"fa-solid fa-chevron-left"},null,-1)])])])),(c(!0),d(j,null,L(l.value,(m,w)=>(c(),d(j,{key:w},[typeof m=="object"&&a.value===m.page_number?(c(),d("li",{key:0,class:"paginator-li active","aria-current":"page","data-current":a.value},[o("span",U,_(m.page_number),1)],8,E)):typeof m=="object"?(c(),d("li",{key:1,class:q(["paginator-li",{"hide-lg":[a.value-2,a.value+2].includes(m.page_number)}])},[o("button",{type:"button",onClick:F=>u(m.page_number),class:"paginator-button","data-page":m.page_number},_(m.page_number),9,G)],2)):(c(),d("li",J,[o("span",null,_(m),1)]))],64))),128)),a.value!==t.value?(c(),d("li",A,[o("button",{type:"button",class:"paginator-button",rel:"next","aria-label":"Page suivante",onClick:r[1]||(r[1]=m=>u(a.value+1)),"data-button":"next"},[...r[4]||(r[4]=[o("i",{class:"fa-solid fa-chevron-right"},null,-1)])])])):(c(),d("li",K,[...r[5]||(r[5]=[o("span",{class:"paginator-chevron","aria-hidden":"true"},[o("i",{class:"fa-solid fa-chevron-right"})],-1)])]))])])):P("",!0)}},W={class:"f-center f-column"},X=["data-current"],Y={class:"progressbar | bg-neutral-300 my-10"},Z=["disabled"],aa={__name:"PaginatorLoadMoreComponent",props:{params:{type:Object,default:()=>({total:0,limit:10,skip:0})}},emits:["p-loadmore"],setup(s,{emit:i}){const e=s,t=v(),a=v(),l=v();x(()=>{a.value=b.currentPage(e.params.skip,e.params.limit),t.value=b.calculTotalPage(e.params.total,e.params.limit),l.value=h.percentOf(a.value,t.value)}),g(()=>e.params.skip,p=>{a.value=p/e.params.limit+1,l.value=h.percentOf(a.value,t.value)}),g(()=>e.params.total,p=>{t.value=b.calculTotalPage(p,e.params.limit)});const f=i,y=p=>{p=p<=t.value?p:a.value,f("p-loadmore",{skip:b.calculSkip(p,e.params.limit),limit:e.params.limit})};return(p,u)=>(c(),d("div",W,[o("p",{class:"fs-300","data-current":a.value},"Vous êtes sur la page "+_(a.value)+" sur "+_(t.value),9,X),o("div",Y,[o("div",{class:"progressbar-content | h-100 bg-primary",style:O({width:l.value+"%"})},null,4)]),o("button",{class:"btn btn-primary",onClick:u[0]||(u[0]=n=>y(a.value+1)),disabled:a.value===t.value},"Charger plus",8,Z)]))}},ea={class:"paginator-range | f-center g-10 mt-30"},ta=["disabled"],sa={class:"p-relative"},la=["data-current"],na=["max"],ra=["disabled"],ia={__name:"PaginatorRangeComponent",props:{params:{type:Object,default:()=>({total:0,limit:10,skip:0})}},emits:["p-range"],setup(s,{emit:i}){const e=s,t=v(),a=v(),l=v();x(()=>{a.value=b.currentPage(e.params.skip,e.params.limit),t.value=b.calculTotalPage(e.params.total,e.params.limit),l.value=h.percentOf(a.value,t.value)}),g(()=>e.params.skip,u=>{a.value=u/e.params.limit+1,l.value=h.percentOf(a.value,t.value)}),g(()=>e.params.total,u=>{t.value=b.calculTotalPage(u,e.params.limit)}),g(a,u=>{l.value=h.percentOf(u,t.value)});const f=i,y=()=>{const u=Math.min(t.value,a.value);f("p-range",{skip:b.calculSkip(u,e.params.limit),limit:e.params.limit})},p=u=>{u=Math.min(t.value,u),f("p-range",{skip:b.calculSkip(u,e.params.limit),limit:e.params.limit})};return(u,n)=>(c(),d("div",ea,[o("button",{"aria-label":"Page précédente","data-button":"previous",type:"button",class:"pointer",onClick:n[0]||(n[0]=r=>p(a.value-1)),disabled:a.value<=1},[...n[3]||(n[3]=[o("i",{class:"fa-solid fa-chevron-left"},null,-1)])],8,ta),o("div",sa,[o("span",{class:"paginator-range_indicator","data-current":a.value,style:O({left:l.value+"%"})},_(a.value)+" / "+_(t.value),13,la),S(o("input",{min:"1",max:t.value,"onUpdate:modelValue":n[1]||(n[1]=r=>a.value=r),type:"range",class:"paginator-range_input",onChange:y,style:O({background:`linear-gradient(to right, #582C4D 0%, #582C4D ${l.value-.4}%, #e2e2e2 ${l.value-.4}%, #e2e2e2 100%)`})},null,44,na),[[B,a.value]])]),o("button",{"aria-label":"Page suivante","data-button":"next",type:"button",class:"pointer",onClick:n[2]||(n[2]=r=>p(a.value+1)),disabled:a.value>=t.value},[...n[4]||(n[4]=[o("i",{class:"fa-solid fa-chevron-right"},null,-1)])],8,ra)]))}},oa={class:"paginator-infinite_container"},ua={__name:"PaginatorInfiniteComponent",props:{cb:{type:Function,default:void 0},params:{type:Object,default:()=>({total:0,limit:10,skip:0})}},setup(s){const i=s,e=v(),t=v();x(()=>{t.value=b.currentPage(i.params.skip,i.params.limit),e.value=b.calculTotalPage(i.params.total,i.params.limit)}),g(()=>i.params.skip,l=>{t.value=l/i.params.limit+1}),g(()=>i.params.total,l=>{e.value=b.calculTotalPage(l,i.params.limit)});const a=async()=>{const l=t.value+1;l>e.value||await i.cb(b.calculSkip(l,i.params.limit),i.params.limit)};return(l,f)=>S((c(),d("div",oa,[T(l.$slots,"default")])),[[k(D),[a,{distance:10}]]])}},ca={class:"paginator-container"},pa={__name:"PaginatorComponent",props:{type:{type:String,default:"classic"},cb:{type:Function,required:!0},params:{type:Object,default:()=>({total:0,limit:10,skip:0})}},setup(s){const i=s;I.service("utils:isDeprecated","Cette version du paginator est déprecié car elle utilise n'utilise pas le standart des apis Brugmann");const e=async({skip:t,limit:a})=>await i.cb(t,a);return(t,a)=>(c(),d("div",ca,[s.type==="classic"?(c(),$(Q,{key:0,params:s.params,onPClassic:e},null,8,["params"])):P("",!0),s.type==="load-more"?(c(),$(aa,{key:1,params:s.params,onPLoadmore:e},null,8,["params"])):P("",!0),s.type==="range"?(c(),$(ia,{key:2,params:s.params,onPRange:e},null,8,["params"])):P("",!0),s.type==="infinite"?(c(),$(ua,{key:3,params:s.params,cb:s.cb},{default:M(()=>[T(t.$slots,"default")]),_:3},8,["params","cb"])):P("",!0)]))}},C={calculTotalPage:(s,i)=>Math.ceil(s/i)},da={class:"paginator-container | d-flex j-center"},ma={class:"paginator | d-flex a-center py-15"},va=["aria-label"],ga={key:1,class:"paginator-li"},ba=["aria-label"],fa=["data-current"],ya={class:"paginator-current"},_a=["onClick","data-page"],Pa={key:2,class:"paginator-li","aria-disabled":"true"},ha={key:2,class:"paginator-li"},ka=["aria-label"],$a=["aria-label"],Ca={__name:"PaginatorClassicComponent",props:{params:{type:Object,required:!0}},emits:["p-classic"],setup(s,{emit:i}){const e=s,t=v(),a=v();x(()=>{a.value=e.params.page,t.value=C.calculTotalPage(e.params.total,e.params.size),l.value=y()}),g(()=>e.params.page,n=>{a.value=n,l.value=y()}),g(()=>e.params.total,n=>{t.value=C.calculTotalPage(n,e.params.size),l.value=y()});const l=v([]),f=()=>[1,2,a.value-2,a.value-1,a.value,a.value+1,a.value+2,t.value-1,t.value],y=()=>{const n=[];for(let r=1;r<=t.value;r++)r===3&&a.value>=6&&n.push("..."),f().includes(r)&&n.push({page_number:r}),r===t.value-3&&a.value<=t.value-5&&n.push("...");return n},p=i,u=n=>{p("p-classic",{page:n,size:e.params.size})};return(n,r)=>(c(),d("nav",da,[o("ul",ma,[a.value===1?(c(),d("li",{key:0,class:"paginator-li disabled","aria-disabled":"true","aria-label":k(z)("paginator.previous_page"),"data-button":"previous"},[...r[2]||(r[2]=[o("span",{class:"paginator-chevron","aria-hidden":"true"},[o("i",{class:"fa-solid fa-chevron-left"})],-1)])],8,va)):(c(),d("li",ga,[o("button",{type:"button",onClick:r[0]||(r[0]=m=>u(a.value-1)),class:"paginator-button",rel:"prev","aria-label":k(z)("paginator.previous_page"),"data-button":"previous"},[...r[3]||(r[3]=[o("i",{class:"fa-solid fa-chevron-left"},null,-1)])],8,ba)])),(c(!0),d(j,null,L(l.value,(m,w)=>(c(),d(j,{key:w},[typeof m=="object"&&a.value===m.page_number?(c(),d("li",{key:0,class:"paginator-li active","aria-current":"page","data-current":a.value},[o("span",ya,_(m.page_number),1)],8,fa)):typeof m=="object"?(c(),d("li",{key:1,class:q(["paginator-li",{"hide-lg":[a.value-2,a.value+2].includes(m.page_number)}])},[o("button",{type:"button",onClick:F=>u(m.page_number),class:"paginator-button","data-page":m.page_number},_(m.page_number),9,_a)],2)):(c(),d("li",Pa,[o("span",null,_(m),1)]))],64))),128)),a.value!==t.value?(c(),d("li",ha,[o("button",{type:"button",class:"paginator-button",rel:"next","aria-label":k(z)("paginator.next_page"),onClick:r[1]||(r[1]=m=>u(a.value+1)),"data-button":"next"},[...r[4]||(r[4]=[o("i",{class:"fa-solid fa-chevron-right"},null,-1)])],8,ka)])):(c(),d("li",{key:3,class:"paginator-li disabled","aria-disabled":"true","aria-label":k(z)("paginator.next_page"),"data-button":"next"},[...r[5]||(r[5]=[o("span",{class:"paginator-chevron","aria-hidden":"true"},[o("i",{class:"fa-solid fa-chevron-right"})],-1)])],8,$a))])]))}},xa={class:"f-center f-column"},za=["data-current"],Oa={class:"progressbar | bg-neutral-300 my-10"},Ta=["disabled","title"],ja={__name:"PaginatorLoadMoreComponent",props:{params:{type:Object,required:!0}},emits:["p-loadmore"],setup(s,{emit:i}){const e=s,t=v(),a=v(),l=v();x(()=>{a.value=e.params.page,t.value=C.calculTotalPage(e.params.total,e.params.size),l.value=h.percentOf(a.value,t.value)}),g(()=>e.params.page,p=>{a.value=p,l.value=h.percentOf(a.value,t.value)}),g(()=>e.params.total,p=>{t.value=C.calculTotalPage(p,e.params.size),l.value=h.percentOf(a.value,t.value)});const f=i,y=p=>{p=p<=t.value?p:a.value,f("p-loadmore",{page:p,size:e.params.size})};return(p,u)=>(c(),d("div",xa,[o("p",{class:"fs-300","data-current":a.value},_(k(z)("paginator.loadmore_info",{currentPage:a.value,totalPage:t.value})),9,za),o("div",Oa,[o("div",{class:"progressbar-content | h-100 bg-primary",style:O({width:l.value+"%"})},null,4)]),o("button",{type:"button",class:"btn btn-primary",onClick:u[0]||(u[0]=n=>y(a.value+1)),disabled:a.value===t.value,title:k(z)("paginator.loadmore_button")},_(k(z)("paginator.loadmore_button")),9,Ta)]))}},Sa={class:"paginator-range | f-center g-10 mt-30"},wa=["disabled"],Ma={class:"p-relative"},La=["data-current"],qa=["max"],Ba=["disabled"],Da={__name:"PaginatorRangeComponent",props:{params:{type:Object,required:!0}},emits:["p-range"],setup(s,{emit:i}){const e=s,t=v(),a=v(),l=v();x(()=>{a.value=e.params.page,t.value=C.calculTotalPage(e.params.total,e.params.size),l.value=h.percentOf(a.value,t.value)}),g(()=>e.params.page,u=>{a.value=u,l.value=h.percentOf(a.value,t.value)}),g(()=>e.params.total,u=>{t.value=C.calculTotalPage(u,e.params.limit)}),g(a,u=>{l.value=h.percentOf(u,t.value)});const f=i,y=()=>{const u=a.value>t.value?Number.parseInt(t.value):Number.parseInt(a.value);f("p-range",{page:u,size:e.params.size})},p=u=>{u=Math.min(u,t.value),f("p-range",{page:u,size:e.params.size})};return(u,n)=>(c(),d("div",Sa,[o("button",{"aria-label":"Page précédente","data-button":"previous",type:"button",class:"pointer",onClick:n[0]||(n[0]=r=>p(a.value-1)),disabled:a.value<=1},[...n[3]||(n[3]=[o("i",{class:"fa-solid fa-chevron-left"},null,-1)])],8,wa),o("div",Ma,[o("span",{class:"paginator-range_indicator","data-current":a.value,style:O({left:l.value+"%"})},_(a.value)+" / "+_(t.value),13,La),S(o("input",{min:"1",max:t.value,"onUpdate:modelValue":n[1]||(n[1]=r=>a.value=r),type:"range",class:"paginator-range_input",onChange:y,style:O({background:`linear-gradient(to right, #582C4D 0%, #582C4D ${l.value-.4}%, #e2e2e2 ${l.value-.4}%, #e2e2e2 100%)`})},null,44,qa),[[B,a.value]])]),o("button",{"aria-label":"Page suivante","data-button":"next",type:"button",class:"pointer",onClick:n[2]||(n[2]=r=>p(a.value+1)),disabled:a.value>=t.value},[...n[4]||(n[4]=[o("i",{class:"fa-solid fa-chevron-right"},null,-1)])],8,Ba)]))}},Fa={class:"paginator-infinite_container"},Ia={__name:"PaginatorInfiniteComponent",props:{cb:{type:Function,default:void 0},params:{type:Object,required:!0}},setup(s){const i=s,e=v(),t=v();x(()=>{t.value=i.params.page,e.value=C.calculTotalPage(i.params.total,i.params.size)}),g(()=>i.params.page,l=>{t.value=l}),g(()=>i.params.total,l=>{e.value=C.calculTotalPage(l,i.params.size)});const a=async()=>{const l=t.value+1;l>e.value||await i.cb(l,i.params.size)};return(l,f)=>S((c(),d("div",Fa,[T(l.$slots,"default")])),[[k(D),[a,{distance:10}]]])}},Ra={class:"paginator-container"},Va={key:0,class:"paginator-container"},Na={__name:"PaginatorComponent",props:{type:{type:String,default:"classic"},cb:{type:Function,required:!0},params:{type:Object,required:!0}},setup(s){const i=s,e=async({page:t,size:a})=>await i.cb(t,a);return(t,a)=>(c(),d("div",Ra,[(s.params===void 0||s.params.size!==void 0)&&k(C).calculTotalPage(i.params.total,i.params.size)>1?(c(),d("div",Va,[s.type==="classic"?(c(),$(Ca,{key:0,params:s.params,onPClassic:e},null,8,["params"])):P("",!0),s.type==="load-more"?(c(),$(ja,{key:1,params:s.params,onPLoadmore:e},null,8,["params"])):P("",!0),s.type==="range"?(c(),$(Da,{key:2,params:s.params,onPRange:e},null,8,["params"])):P("",!0),s.type==="infinite"?(c(),$(Ia,{key:3,params:s.params,cb:s.cb},{default:M(()=>[T(t.$slots,"default")]),_:3},8,["params","cb"])):P("",!0)])):P("",!0),s.params.skip!==void 0?(c(),$(pa,{key:1,type:s.type,cb:s.cb,params:s.params},{default:M(()=>[T(t.$slots,"default")]),_:3},8,["type","cb","params"])):P("",!0)]))}};export{Na as _};
