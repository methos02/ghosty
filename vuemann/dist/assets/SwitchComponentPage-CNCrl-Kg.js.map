{"version":3,"file":"SwitchComponentPage-CNCrl-Kg.js","sources":["../../src/services/form/views/inputs/SwitchComponent.vue","../../src/views/servicesPage/form/inputs/SwitchComponentPage.vue"],"sourcesContent":["<script setup>\r\nimport { computed, watchEffect } from 'vue'\r\nimport ErrorForm from \"@brugmann/vuemann/src/services/form/views/ErrorFormComponent.vue\"\r\nimport { FormHelper } from \"@brugmann/vuemann/src/services/form/form-helper.js\"\r\n\r\nconst props = defineProps({\r\n    name : { type: String, required: true },\r\n    prefix : { type : String, default: '' },\r\n    suffix : { type : String, default: '' },\r\n    required : { type : Boolean, default: false },\r\n    error : { type: Boolean, default: true },\r\n    form : { type: String, default: undefined },\r\n    disabled : { type: Boolean, default: false },\r\n    values : { type: Object, default: () => ({ true: true, false: false }) },\r\n})\r\n\r\nconst switchValue = defineModel({type: [Boolean, String, Number], default: false})\r\n\r\nwatchEffect(() => {\r\n    if (props.prefix === '' && props.suffix === '') {\r\n        throw new Error(`SwitchComponent \"${props.name}\": Au moins un des deux (prefix ou suffix) doit être rempli`)\r\n    }\r\n})\r\n\r\nconst internalValue = computed({\r\n    get() {\r\n        return switchValue.value === props.values.true\r\n    },\r\n    set(newValue) {\r\n        switchValue.value = newValue ? props.values.true : props.values.false\r\n    }\r\n})\r\n</script>\r\n\r\n<template>\r\n    <div class=\"form-component switch-component\">\r\n        <div class=\"switch-wrapper\">\r\n            <input \r\n                :id=\"FormHelper.getInputName(name, form)\" \r\n                :name=\"FormHelper.getInputName(name, form)\"\r\n                type=\"checkbox\" \r\n                class=\"switch-input\" \r\n                v-model=\"internalValue\"\r\n                :disabled=\"disabled\"\r\n            />\r\n            <label \r\n                class=\"switch-label\"\r\n                :for=\"FormHelper.getInputName(name, form)\"\r\n            >\r\n                <span \r\n                    v-if=\"prefix !== ''\"\r\n                    class=\"switch-text\" \r\n                    :class=\"{'required': props.required && suffix === ''}\"\r\n                    data-switch=\"prefix\"\r\n                >\r\n                    {{ prefix }}\r\n                </span>\r\n                <span class=\"switch-slider\" :class=\"{ 'active': internalValue }\"></span>\r\n                <span \r\n                    v-if=\"suffix !== ''\"\r\n                    class=\"switch-text\" \r\n                    :class=\"{'required': props.required}\"\r\n                    data-switch=\"suffix\"\r\n                >\r\n                    {{ suffix }}\r\n                </span>\r\n            </label>\r\n        </div>\r\n        <ErrorForm \r\n            v-if=\"error !== false\"\r\n            :name=\"FormHelper.getInputName(name, form)\" \r\n        />\r\n    </div>\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.switch-component {\r\n    .switch-wrapper {\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 15px;\r\n        margin-bottom: 5px;\r\n    }\r\n\r\n    .switch-input {\r\n        display: none;\r\n    }\r\n\r\n    .switch-label {\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 10px;\r\n        cursor: pointer;\r\n        user-select: none;\r\n    }\r\n\r\n    .switch-slider {\r\n        position: relative;\r\n        width: 50px;\r\n        height: 24px;\r\n        background-color: var(--neutral-400);\r\n        border-radius: 24px;\r\n        transition: background-color 0.3s ease;\r\n\r\n        &::before {\r\n            content: '';\r\n            position: absolute;\r\n            top: 2px;\r\n            left: 2px;\r\n            width: 20px;\r\n            height: 20px;\r\n            background-color: var(--neutral-100);\r\n            border-radius: 50%;\r\n            transition: transform 0.3s ease;\r\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\r\n        }\r\n    }\r\n\r\n    .switch-slider.active {\r\n        background-color: var(--primary);\r\n\r\n        &::before {\r\n            transform: translateX(26px);\r\n        }\r\n    }\r\n\r\n    .switch-input:disabled + .switch-label {\r\n        opacity: 0.6;\r\n        cursor: not-allowed;\r\n    }\r\n\r\n    .switch-text {\r\n        font-size: 14px;\r\n        color: var(--neutral-900);\r\n\r\n        &.required::after {\r\n            content: ' *';\r\n            color: var(--danger);\r\n        }\r\n    }\r\n}\r\n</style>\r\n","<script setup>\r\nimport { ref } from \"vue\";\r\nimport CodeHtml from \"@brugmann/vuemann/src/components/codeHtml/CodeHtmlComponent.vue\"\r\nimport Switch from \"@brugmann/vuemann/src/services/form/views/inputs/SwitchComponent.vue\";\r\nconst switchValue = ref(false)\r\nconst externalSwitchValue = ref(false)\r\nconst customSwitchValue = ref('dev')\r\n\r\nconst toggleSwitch = () => {\r\n  externalSwitchValue.value = !externalSwitchValue.value\r\n}\r\n</script>\r\n\r\n<template>\r\n  <h1 class=\"h1\">Switch Component</h1>\r\n  <p>\r\n    Ce component permet d'utiliser un bouton de commutation (switch) stylisé pour les valeurs booléennes.\r\n    <br /><strong>Note importante :</strong> Au moins un des deux (prefix ou suffix) doit être rempli.\r\n  </p>\r\n  \r\n  <h2 class=\"h2\">Propriétés</h2>\r\n  <table class=\"t-default mb-15 w-100\">\r\n    <thead>\r\n      <tr>\r\n        <th>Nom</th>\r\n        <th>Type</th>\r\n        <th>Required</th>\r\n        <th>Default</th>\r\n        <th>Description</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr>\r\n        <td>name</td>\r\n        <td>String</td>\r\n        <td>oui</td>\r\n        <td>-</td>\r\n        <td>Nom et id du switch</td>\r\n      </tr>\r\n      <tr>\r\n        <td>prefix</td>\r\n        <td>String</td>\r\n        <td>-</td>\r\n        <td>''</td>\r\n        <td>Texte affiché avant le switch.</td>\r\n      </tr>\r\n      <tr>\r\n        <td>suffix</td>\r\n        <td>String</td>\r\n        <td>-</td>\r\n        <td>''</td>\r\n        <td>Texte affiché après le switch.</td>\r\n      </tr>\r\n      <tr>\r\n        <td>required</td>\r\n        <td>Boolean</td>\r\n        <td>-</td>\r\n        <td>false</td>\r\n        <td>Le switch est-il requis.</td>\r\n      </tr>\r\n      <tr>\r\n        <td>error</td>\r\n        <td>Boolean</td>\r\n        <td>-</td>\r\n        <td>true</td>\r\n        <td>Afficher ou non les erreurs de validation.</td>\r\n      </tr>\r\n      <tr>\r\n        <td>disabled</td>\r\n        <td>Boolean</td>\r\n        <td>-</td>\r\n        <td>false</td>\r\n        <td>Le switch est-il désactivé.</td>\r\n      </tr>\r\n      <tr>\r\n        <td>form</td>\r\n        <td>String</td>\r\n        <td>-</td>\r\n        <td>undefined</td>\r\n        <td>Nom du formulaire associé.</td>\r\n      </tr>\r\n      <tr>\r\n        <td>values</td>\r\n        <td>Object</td>\r\n        <td>-</td>\r\n        <td>{ true: true, false: false }</td>\r\n        <td>Objet définissant les valeurs de retour pour les états activé/désactivé.</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  \r\n  <h2 class=\"h2\">Exemples</h2>\r\n  \r\n  <h3 class=\"h3\">Switch basique</h3>\r\n  <div class=\"d-flex\">\r\n    <Switch\r\n      name=\"notifications\"\r\n      v-model=\"switchValue\"\r\n      suffix=\"Activer les notifications\"\r\n    />\r\n  </div>\r\n  <p class=\"textarea-value mt-15\">Valeur: {{ switchValue }}</p>\r\n  \r\n  <h3 class=\"h3\">Switch avec prefix et suffix</h3>\r\n  <div class=\"d-flex\">\r\n    <Switch\r\n      name=\"prefix-suffix-switch\"\r\n      v-model=\"switchValue\"\r\n      prefix=\"Notifications\"\r\n      suffix=\"activées\"\r\n    />\r\n  </div>\r\n  \r\n  <h3 class=\"h3\">Switch désactivé</h3>\r\n  <div class=\"d-flex\">\r\n    <Switch\r\n      name=\"disabled-switch\"\r\n      :disabled=\"true\"\r\n      suffix=\"Switch désactivé\"\r\n    />\r\n  </div>\r\n  \r\n  <h3 class=\"h3\">Contrôle externe du switch</h3>\r\n  <div class=\"d-flex a-center g-15\">\r\n    <Switch\r\n      name=\"external-switch\"\r\n      v-model=\"externalSwitchValue\"\r\n      suffix=\"Switch contrôlé externe\"\r\n    />\r\n    <button \r\n      class=\"btn btn-primary\" \r\n      @click=\"toggleSwitch\"\r\n    >\r\n      {{ externalSwitchValue ? 'Désactiver' : 'Activer' }} le switch\r\n    </button>\r\n  </div>\r\n  <p class=\"textarea-value\">Valeur: {{ externalSwitchValue }}</p>\r\n  \r\n  <h3 class=\"h3\">Switch avec valeurs personnalisées</h3>\r\n  <div class=\"d-flex\">\r\n    <Switch\r\n      name=\"environment-switch\"\r\n      v-model=\"customSwitchValue\"\r\n      suffix=\"Environnement\"\r\n      :values=\"{ true: 'prod', false: 'dev' }\"\r\n    />\r\n  </div>\r\n  <p class=\"textarea-value mt-15\">Valeur: {{ customSwitchValue }}</p>\r\n  \r\n  <h2 class=\"h2\">Code</h2>\r\n  \r\n  <h3 class=\"h3\">Switch basique</h3>\r\n  <!-- eslint-disable -->\r\n  <CodeHtml class=\"my-15\">\r\n      <scriptBalise v-pre>\r\n        import Switch from \"@brugmann/vuemann/src/services/form/views/inputs/SwitchComponent.vue\"; \r\n      </scriptBalise>\r\n      <template v-pre>\r\n        <Switch\r\n          name=\"notifications\"\r\n          suffix=\"Activer les notifications\"\r\n        />\r\n      </template>\r\n  </CodeHtml>\r\n  <!-- eslint-enable -->\r\n  \r\n  <h3 class=\"h3\">Switch avec prefix et suffix</h3>\r\n  <!-- eslint-disable -->\r\n  <CodeHtml class=\"my-15\">\r\n      <scriptBalise v-pre>\r\n        import Switch from \"@brugmann/vuemann/src/services/form/views/inputs/SwitchComponent.vue\"; \r\n      </scriptBalise>\r\n      <template v-pre>\r\n        <Switch\r\n          name=\"prefix-suffix-switch\"\r\n          prefix=\"Notifications\"\r\n          suffix=\"activées\"\r\n        />\r\n      </template>\r\n  </CodeHtml>\r\n  <!-- eslint-enable -->\r\n  \r\n  <h3 class=\"h3\">Switch avec valeurs personnalisées</h3>\r\n  <!-- eslint-disable -->\r\n  <CodeHtml class=\"my-15\">\r\n      <scriptBalise v-pre>\r\n        import Switch from \"@brugmann/vuemann/src/services/form/views/inputs/SwitchComponent.vue\"; \r\n      </scriptBalise>\r\n      <template v-pre>\r\n        <Switch\r\n          name=\"environment-switch\"\r\n          suffix=\"Environnement\"\r\n          :values=\"{ true: 'prod', false: 'dev' }\"\r\n        />\r\n      </template>\r\n  </CodeHtml>\r\n  <!-- eslint-enable -->\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.textarea-value {\r\n    white-space: pre-wrap\r\n}\r\n</style>\r\n"],"names":["props","__props","switchValue","_useModel","watchEffect","internalValue","computed","newValue","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_unref","FormHelper","$event","_normalizeClass","_createBlock","ErrorForm","ref","externalSwitchValue","customSwitchValue","toggleSwitch","_createVNode","Switch","_cache","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","_hoisted_7","_hoisted_8","CodeHtml"],"mappings":"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"}