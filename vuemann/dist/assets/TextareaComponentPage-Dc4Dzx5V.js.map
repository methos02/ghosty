{"version":3,"file":"TextareaComponentPage-Dc4Dzx5V.js","sources":["../../src/services/form/views/inputs/TextareaComponent.vue","../../src/views/servicesPage/form/inputs/TextareaComponentPage.vue"],"sourcesContent":["<script setup>\r\nimport { ref, computed } from \"vue\";\r\nimport ErrorForm from \"@brugmann/vuemann/src/services/form/views/ErrorFormComponent.vue\"\r\nimport { FormHelper } from \"@brugmann/vuemann/src/services/form/form-helper.js\"\r\nconst props = defineProps({\r\n    modelValue: { type: String, default: '' },\r\n    name : { type: String, required: true },\r\n    placeholder : {type: String, default: undefined},\r\n    label : { type : String, default: undefined },\r\n    required : { type : Boolean, default: false },\r\n    autogrow : { type : Boolean, default: false },\r\n    error : { type: Boolean, default: true },\r\n    form : { type: String, default: undefined },\r\n    maxLength : { type: Number, default: undefined },\r\n})\r\n\r\nconst characterCount = computed(() => {\r\n    return value.value.length || 0\r\n})\r\n\r\nconst textarea = ref()\r\nconst emit = defineEmits(['update:modelValue']);\r\n\r\nconst value = computed({\r\n  get() { return props.modelValue },\r\n  set(newValue) {\r\n    emit('update:modelValue', newValue);\r\n  }\r\n});\r\n\r\nconst autoGrow = () => {\r\n    if(props.autogrow === false) { return }\r\n\r\n    textarea.value.style.height = 'auto';\r\n    textarea.value.style.height = textarea.value.scrollHeight + 'px';\r\n}\r\n</script>\r\n\r\n<template>\r\n    <div class=\"form-component\">\r\n        <div class=\"p-relative\">\r\n            <textarea        \r\n                :id=\"FormHelper.getInputName(name, form)\" \r\n                :name=\"FormHelper.getInputName(name, form)\"\r\n                :title=\"FormHelper.getInputName(name, form)\"\r\n                :placeholder=\"label !== undefined ? ' ' : placeholder\"\r\n                class=\"form-input input\" \r\n                :class=\"{autogrow : props.autogrow}\"\r\n                ref=\"textarea\"\r\n                v-model=\"value\"\r\n                @input=\"autoGrow\"\r\n            >\r\n            </textarea>\r\n            <label \r\n                v-if=\"label !== undefined\"\r\n                class=\"form-label\"\r\n                :class=\"{'required': props.required}\"\r\n                :for=\"FormHelper.getInputName(name, form)\"\r\n            >\r\n                {{ label }}\r\n            </label>\r\n        </div>\r\n        <div \r\n            v-if=\"maxLength !== undefined\"\r\n            class=\"textarea-count | d-flex j-end\" \r\n        >\r\n            <span :class=\"{ 'color-danger': characterCount > maxLength }\" class=\"fs-300\">\r\n                {{ characterCount }}/{{ maxLength }} caractères\r\n            </span>\r\n        </div>\r\n        <ErrorForm \r\n            v-if=\"error !== false\"\r\n            :name=\"FormHelper.getInputName(name, form)\" \r\n        />\r\n    </div>\r\n</template>\r\n","<script setup>\r\nimport { ref } from \"vue\";\r\nimport CodeHtml from \"@brugmann/vuemann/src/components/codeHtml/CodeHtmlComponent.vue\"\r\nimport Textarea from \"@brugmann/vuemann/src/services/form/views/inputs/TextareaComponent.vue\";\r\n\r\nconst textarea = ref()\r\n</script>\r\n\r\n<template>\r\n  <h1 class=\"h1\">Textarea Component</h1>\r\n  <p>\r\n    Ce component permet de pouvoir utiliser l'élément html natif Textarea de manière standard.\r\n    Lorsque la prop <code>label</code> est fournie, le composant affiche un <strong>label flottant</strong> sur le même principe que l'Input : le label \r\n    se place dans le champ et remonte au focus/saisie.\r\n  </p>\r\n  \r\n  <h2 class=\"h2\">Propriétés</h2>\r\n  <table class=\"t-default mb-15 w-100\">\r\n    <thead>\r\n      <tr>\r\n        <th>Nom</th>\r\n        <th>Type</th>\r\n        <th>Required</th>\r\n        <th>Default</th>\r\n        <th>Description</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      <tr>\r\n        <td>name</td>\r\n        <td>String</td>\r\n        <td>oui</td>\r\n        <td>-</td>\r\n        <td>Nom et id du textarea</td>\r\n      </tr>\r\n      <tr>\r\n        <td>placeholder</td>\r\n        <td>String</td>\r\n        <td>-</td>\r\n        <td>null</td>\r\n        <td>Placeholder du textarea.</td>\r\n      </tr>\r\n      <tr>\r\n        <td>label</td>\r\n        <td>String</td>\r\n        <td>-</td>\r\n        <td>null</td>\r\n        <td>Label du textarea.</td>\r\n      </tr>\r\n      <tr>\r\n        <td>required</td>\r\n        <td>Boolean</td>\r\n        <td>-</td>\r\n        <td>false</td>\r\n        <td>Le textarea est-il requis.</td>\r\n      </tr>\r\n      <tr>\r\n        <td>autogrow</td>\r\n        <td>Boolean</td>\r\n        <td>-</td>\r\n        <td>false</td>\r\n        <td>La hauteur du textarea doit-elle s'adapter au texte.</td>\r\n      </tr>\r\n      <tr>\r\n        <td>error</td>\r\n        <td>Boolean</td>\r\n        <td>-</td>\r\n        <td>true</td>\r\n        <td>Afficher ou non les erreurs de validation.</td>\r\n      </tr>\r\n      <tr>\r\n        <td>form</td>\r\n        <td>String</td>\r\n        <td>-</td>\r\n        <td>undefined</td>\r\n        <td>Nom du formulaire associé.</td>\r\n      </tr>\r\n      <tr>\r\n        <td>maxLength</td>\r\n        <td>Number</td>\r\n        <td>-</td>\r\n        <td>undefined</td>\r\n        <td>Nombre maximum de caractères autorisés. Affiche un compteur de caractères.</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n  \r\n  <h2 class=\"h2\">Exemples</h2>\r\n  \r\n  <h3 class=\"h3\">Textarea basique</h3>\r\n  <Textarea\r\n      name=\"comment\"\r\n      :autogrow=\"true\"\r\n      v-model=\"textarea\"\r\n      label=\"Commentaire\"\r\n  />\r\n  <p class=\"textarea-value mt-15\">Valeur: {{ textarea }}</p>\r\n  \r\n  <h3 class=\"h3\">Textarea avec limite de caractères</h3>\r\n  <Textarea\r\n      name=\"comment-limited\"\r\n      :autogrow=\"true\"\r\n      v-model=\"textarea\"\r\n      label=\"Commentaire limité\"\r\n      :maxLength=\"100\"\r\n  />\r\n  \r\n  <h2 class=\"h2\">Code</h2>\r\n  <!-- eslint-disable -->\r\n  <CodeHtml class=\"my-15\">\r\n      <scriptBalise v-pre>\r\n        import Textarea from \"@brugmann/vuemann/src/services/form/views/inputs/TextareaComponent.vue\"; \r\n      </scriptBalise>\r\n      <template v-pre>\r\n        <!-- Textarea basique -->\r\n        <Textarea\r\n          name=\"comment\"\r\n          label=\"Commentaire\"\r\n          :autogrow=\"true\"\r\n        />\r\n        \r\n        <!-- Avec limite de caractères -->\r\n        <Textarea\r\n          name=\"comment-limited\"\r\n          label=\"Commentaire limité\"\r\n          :autogrow=\"true\"\r\n          :maxLength=\"100\"\r\n        />\r\n      </template>\r\n  </CodeHtml>\r\n  <!-- eslint-enable -->\r\n</template>\r\n\r\n<style lang=\"scss\">\r\n.textarea-value {\r\n    white-space: pre-wrap\r\n}\r\n</style>\r\n"],"names":["props","__props","characterCount","computed","value","textarea","ref","emit","__emit","newValue","autoGrow","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_unref","FormHelper","_normalizeClass","$event","_hoisted_3","_hoisted_4","_hoisted_5","_toDisplayString","_createBlock","ErrorForm","_createVNode","Textarea","_cache","CodeHtml"],"mappings":"yvBAIA,MAAMA,EAAQC,EAYRC,EAAiBC,EAAS,IACrBC,EAAM,MAAM,QAAU,CAChC,EAEKC,EAAWC,EAAG,EACdC,EAAOC,EAEPJ,EAAQD,EAAS,CACrB,KAAM,CAAE,OAAOH,EAAM,UAAW,EAChC,IAAIS,EAAU,CACZF,EAAK,oBAAqBE,CAAQ,CACpC,CACF,CAAC,EAEKC,EAAW,IAAM,CAChBV,EAAM,WAAa,KAEtBK,EAAS,MAAM,MAAM,OAAS,OAC9BA,EAAS,MAAM,MAAM,OAASA,EAAS,MAAM,aAAe,KAChE,gBAIIM,EAAA,EAAAC,EAmCM,MAnCNC,EAmCM,CAlCFC,EAqBM,MArBNC,EAqBM,GApBFD,EAWW,WAAA,CAVN,GAAIE,EAAAC,CAAA,EAAW,aAAahB,EAAA,KAAMA,EAAA,IAAI,EACtC,KAAMe,EAAAC,CAAA,EAAW,aAAahB,EAAA,KAAMA,EAAA,IAAI,EACxC,MAAOe,EAAAC,CAAA,EAAW,aAAahB,EAAA,KAAMA,EAAA,IAAI,EACzC,YAAaA,EAAA,QAAU,WAAkBA,EAAA,YAC1C,MAAKiB,EAAA,CAAC,mBAAkB,CAAA,SACJlB,EAAM,QAAQ,CAAA,CAAA,UAC9B,WAAJ,IAAIK,uCACKD,EAAK,MAAAe,GACb,QAAOT,GACX,eACD,GAAAU,CAAA,EAAA,IAHahB,EAAA,KAAK,IAKRH,EAAA,QAAU,YADpBW,EAOQ,QAAA,OALJ,MAAKM,EAAA,CAAC,aAAY,CAAA,SACGlB,EAAM,QAAQ,CAAA,CAAA,EAClC,IAAKgB,EAAAC,CAAA,EAAW,aAAahB,EAAA,KAAMA,EAAA,IAAI,KAErCA,EAAA,KAAK,EAAA,GAAAoB,CAAA,cAINpB,EAAA,YAAc,QADxBU,IAAAC,EAOM,MAPNU,EAOM,CAHFR,EAEO,OAAA,CAFA,MAAKI,EAAA,CAAA,CAAA,eAAoBhB,EAAA,MAAiBD,EAAA,SAAS,EAAU,QAAQ,CAAA,CACrE,EAAAsB,EAAArB,EAAA,KAAc,EAAG,IAACqB,EAAGtB,EAAA,SAAS,EAAG,eACxC,CAAA,cAGMA,EAAA,QAAK,QADfuB,EAGEC,EAAA,OADG,KAAMT,EAAAC,CAAA,EAAW,aAAahB,EAAA,KAAMA,EAAA,IAAI,+GCnErD,MAAMI,EAAWC,EAAG,s/CAqFlBoB,EAKEC,EAAA,CAJE,KAAK,UACJ,SAAU,cACFtB,EAAA,2CAAAA,EAAQ,MAAAc,GACjB,MAAM,sCAEVL,EAA0D,IAA1DD,EAAgC,aAAWR,EAAA,KAAQ,EAAA,CAAA,EAEnDuB,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAd,EAAsD,KAAA,CAAlD,MAAM,IAAI,EAAC,qCAAkC,EAAA,GACjDY,EAMEC,EAAA,CALE,KAAK,kBACJ,SAAU,cACFtB,EAAA,2CAAAA,EAAQ,MAAAc,GACjB,MAAM,qBACL,UAAW,4BAGhBS,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAAd,EAAwB,KAAA,CAApB,MAAM,IAAI,EAAC,OAAI,EAAA,GAEnBY,EAoBWG,EAAA,CApBD,MAAM,OAAO,EAAA,WACnB,IAEe,CAAA,GAAAD,EAAA,CAAA,IAAAA,EAAA,CAAA,EAAA,CAFfd,EAEe,oBAFK,mGAEpB,EAAA,EACAA,EAeW,WAAA,KAAA,CAbTA,EAIE,WAAA,CAHA,KAAK,UACL,MAAM,cACN,YAAU,SAIZA,EAKE,WAAA,CAJA,KAAK,kBACL,MAAM,qBACN,YAAU,OACV,aAAW"}